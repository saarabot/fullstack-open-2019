(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),r=n(11),c=n.n(r),i=n(12),o=n(2),l=function(e){var t=e.filter,n=e.handleFilterChange;return u.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4",u.a.createElement("input",{value:t,onChange:n}))},m=function(e){var t=e.addNewContact,n=e.newName,a=e.newNumber,r=e.handleNameChange,c=e.handleNumberChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"Nimi: ",u.a.createElement("input",{value:n,onChange:r}),u.a.createElement("br",null),"Numero: ",u.a.createElement("input",{value:a,onChange:c})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"Lis\xe4\xe4"))))},f=function(e){var t=e.name,n=e.number;return u.a.createElement("p",null,t," ",n)},s=function(e){var t=e.filter,n=e.contacts,a=e.confirmDelete;if(0===t.length)return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,"Numerot"),n.map(function(e){return u.a.createElement("div",{key:e.id},u.a.createElement(f,{key:e.id,name:e.name,number:e.number}),u.a.createElement("button",{onClick:function(){return a(e.id,e.name)}},"Poista"))}));var r=n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())});return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,"Numerot"),r.map(function(e){return u.a.createElement(f,{key:e.name,name:e.name,number:e.number})}))},d=function(e){var t=e.message,n=e.type;return null===t?null:u.a.createElement("div",{style:2===n?{color:"red",padding:"0px 5px",border:"3px solid red",marginBottom:"10px"}:{color:"green",padding:"0px 5px",border:"3px solid green",marginBottom:"10px"}},u.a.createElement("p",null,t))},h=n(3),p=n.n(h),b="/api/persons",E=function(){return p.a.get(b).then(function(e){return e.data})},v=function(e){return p.a.post(b,e).then(function(e){return e.data})},g=function(e,t){return p.a.put("".concat(b,"/").concat(e),t).then(function(e){return e.data})},w=function(e){return p.a.delete("".concat(b,"/").concat(e)).then(function(e){return e})},j=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),f=Object(o.a)(c,2),h=f[0],p=f[1],b=Object(a.useState)(""),j=Object(o.a)(b,2),C=j[0],N=j[1],O=Object(a.useState)(""),T=Object(o.a)(O,2),k=T[0],x=T[1],y=Object(a.useState)(null),L=Object(o.a)(y,2),S=L[0],F=L[1],P=Object(a.useState)(null),B=Object(o.a)(P,2),D=B[0],J=B[1];Object(a.useEffect)(function(){E().then(function(e){r(e)}).catch(function(e){F("Tapahtui virhe"),J(2),setTimeout(function(){F(null)},5e3)})},[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(d,{message:S,notificationType:D}),u.a.createElement(l,{filter:k,handleFilterChange:function(e){x(e.target.value)}}),u.a.createElement(m,{addNewContact:function(e){e.preventDefault();var t=n.filter(function(e){return e.name.toLowerCase()===h.toLowerCase()});if(0===t.length)v({name:h,number:C}).then(function(e){r(n.concat(e)),J(1),F("Lis\xe4ttiin ".concat(e.name)),setTimeout(function(){F(null)},5e3)}).catch(function(e){F("Tapahtui virhe"),J(2),setTimeout(function(){F(null)},5e3)}),p(""),N("");else if(window.confirm("".concat(h," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=Object(i.a)({},t[0],{name:h,number:C});g(t[0].id,a).then(function(e){F("P\xe4ivitettiin ".concat(h)),J(1),setTimeout(function(){F(null)},5e3),r(n.map(function(t){return t.id!==e.id?t:e})),p(""),N("")}).catch(function(e){F("Tapahtui virhe"),J(2),setTimeout(function(){F(null)},5e3)})}},newName:h,handleNameChange:function(e){p(e.target.value)},newNumber:C,handleNumberChange:function(e){N(e.target.value)}}),u.a.createElement(s,{filter:k,contacts:n,confirmDelete:function(e,t){window.confirm("Poistetaanko ".concat(t,"?"))&&w(e).then(function(){F("Poistettiin ".concat(t)),J(1),setTimeout(function(){F(null)},5e3),E().then(function(e){r(e)})})}}))};c.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.65181b42.chunk.js.map