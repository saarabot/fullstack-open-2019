(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),c=t.n(u),o=t(12),l=t(2),i=function(e){var n=e.filter,t=e.handleFilterChange;return r.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4",r.a.createElement("input",{value:n,onChange:t}))},m=function(e){var n=e.addNewContact,t=e.newName,a=e.newNumber,u=e.handleNameChange,c=e.handleNumberChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Nimi: ",r.a.createElement("input",{value:t,onChange:u}),r.a.createElement("br",null),"Numero: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Lis\xe4\xe4"))))},f=function(e){var n=e.name,t=e.number;return r.a.createElement("p",null,n," ",t)},s=function(e){var n=e.filter,t=e.contacts,a=e.confirmDelete;if(0===n.length)return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Numerot"),t.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(f,{key:e.id,name:e.name,number:e.number}),r.a.createElement("button",{onClick:function(){return a(e.id,e.name)}},"Poista"))}));var u=t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Numerot"),u.map(function(e){return r.a.createElement(f,{key:e.name,name:e.name,number:e.number})}))},d=function(e){var n=e.message,t=e.type;return null===n?null:r.a.createElement("div",{style:2===t?{color:"red",padding:"0px 5px",border:"3px solid red",marginBottom:"10px"}:{color:"green",padding:"0px 5px",border:"3px solid green",marginBottom:"10px"}},r.a.createElement("p",null,n))},h=t(3),p=t.n(h),b="/api/persons",E=function(){return p.a.get(b).then(function(e){return e.data})},v=function(e){return p.a.post(b,e).then(function(e){return e.data})},g=function(e,n){return p.a.put("".concat(b,"/").concat(e),n).then(function(e){return e.data})},w=function(e){return p.a.delete("".concat(b,"/").concat(e)).then(function(e){return e})},j=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),f=Object(l.a)(c,2),h=f[0],p=f[1],b=Object(a.useState)(""),j=Object(l.a)(b,2),C=j[0],N=j[1],O=Object(a.useState)(""),k=Object(l.a)(O,2),x=k[0],y=k[1],T=Object(a.useState)(null),L=Object(l.a)(T,2),S=L[0],F=L[1],P=Object(a.useState)(null),B=Object(l.a)(P,2),D=B[0],J=B[1];Object(a.useEffect)(function(){E().then(function(e){u(e)}).catch(function(e){console.log(e),F("Tapahtui virhe"),J(2),setTimeout(function(){F(null)},5e3)})},[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(d,{message:S,notificationType:D}),r.a.createElement(i,{filter:x,handleFilterChange:function(e){y(e.target.value)}}),r.a.createElement(m,{addNewContact:function(e){e.preventDefault();var n=t.filter(function(e){return e.name.toLowerCase()===h.toLowerCase()});if(0===n.length)v({name:h,number:C}).then(function(e){u(t.concat(e)),J(1),F("Lis\xe4ttiin ".concat(e.name)),setTimeout(function(){F(null)},5e3)}).catch(function(e){F(e.response.data.error),J(2),setTimeout(function(){F(null)},5e3)}),p(""),N("");else if(window.confirm("".concat(h," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=Object(o.a)({},n[0],{name:h,number:C});g(n[0].id,a).then(function(e){F("P\xe4ivitettiin ".concat(h)),J(1),setTimeout(function(){F(null)},5e3),u(t.map(function(n){return n.id!==e.id?n:e})),p(""),N("")}).catch(function(e){F("Tapahtui virhe"),J(2),setTimeout(function(){F(null)},5e3)})}},newName:h,handleNameChange:function(e){p(e.target.value)},newNumber:C,handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement(s,{filter:x,contacts:t,confirmDelete:function(e,n){window.confirm("Poistetaanko ".concat(n,"?"))&&w(e).then(function(){F("Poistettiin ".concat(n)),J(1),setTimeout(function(){F(null)},5e3),E().then(function(e){u(e)})})}}))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.df91ce30.chunk.js.map